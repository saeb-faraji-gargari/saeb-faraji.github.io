<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Publications</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .publication-section {
            padding: 50px 15px;
        }
        .publication-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 40px;
            align-items: flex-start;
        }
        .paper {
            flex: 1;
            padding-right: 20px;
        }
        .figure {
            flex: 1;
            text-align: center;
        }
        .publication-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
    </style>
</head>
<body>

    <div id="navbar-container"></div>

    <script>
        fetch("header.html")
            .then(res => res.text())
            .then(data => {
                document.getElementById("navbar-container").innerHTML = data;
            });
    </script>

    <section class="publication-section container">
        <h2 class="text-center mb-4">Selected Publications</h2>

        <div id="publication-container"></div>
    </section>

    <script>
        const dois = [
            "https://doi.org/10.1007/s00366-025-02140-0",
            "10.1016/j.jcp.2024.112931",
            "https://doi.org/10.1007/s00366-020-01157-x",
            "10.1016/j.apm.2019.06.002",
            "10.24200/sci.2017.4189",
        ];

        const images = [
            "images/arbitrary_Lagrangian_DLSM_capturing_Saintâ€“Venant_equations.png",
            "images/UMLS.png",
            "images/Fully_Lagrangian_freesurface_MDLSM_method.png",
            "images/Multiphase.png",
            "images/nonlinear_MDLSM.png",
        ];

        const container = document.getElementById("publication-container");

        dois.forEach((doi, index) => {
            fetch(`https://api.crossref.org/works/${doi}`)
                .then(response => response.json())
                .then(data => {
                    const item = data.message;
                    const year = item.published['date-parts'][0][0];
                    const title = item.title[0];
                    const journal = item['container-title'][0];
                    const authors = item.author.map(a => `${a.given} ${a.family}`).join(', ');

                    const row = document.createElement("div");
                    row.className = "publication-row";

                    const paperDiv = document.createElement("div");
                    paperDiv.className = "paper";
                    paperDiv.innerHTML = `
                        <p>${authors} (${year}). <em>${title}</em>. <strong>${journal}</strong>.
                        <a href="https://doi.org/${doi}" target="_blank">DOI</a></p>
                    `;

                    const imageDiv = document.createElement("div");
                    imageDiv.className = "figure";
                    imageDiv.innerHTML = `<img src="${images[index]}" alt="Figure ${index + 1}" class="publication-image">`;

                    row.appendChild(paperDiv);
                    row.appendChild(imageDiv);
                    container.appendChild(row);
                })
                .catch(error => {
                    const errorRow = document.createElement("div");
                    errorRow.className = "publication-row text-danger";
                    errorRow.innerHTML = `<p>Failed to load publication for DOI: ${doi}</p>`;
                    container.appendChild(errorRow);
                    console.error(error);
                });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
